# Release v1.12.0

---

## Overview

This release marks the completion of the first Qodana security scan integration attempt for the `Mimis Gildi / riddle-me-this` repository. While this phase succeeded in wiring the entire infrastructure for cloud-based code quality and security scans using JetBrains' Qodana SaaS platform, it also surfaced a critical upstream defect that currently prevents successful Gradle JVM project analysis under Qodana SaaS.

The Qodana integration is now fully disabled and shelved. All work completed here will serve as a full foundation for a future self-hosted deployment under our fully controlled farm.

---

## Qodana Integration Attempt Summary

- ‚úÖ Installed Qodana GitHub App under `Mimis Gildi` organization.
- ‚úÖ Connected repository to Qodana Cloud project dashboard.
- ‚úÖ Generated JetBrains' default scaffolding workflow for cloud-based CI integration.
- ‚úÖ Integrated Qodana cloud upload token using normalized secret `QODANA_PROJECT_TOKEN`.
- ‚úÖ Activated PR-mode scanning to optimize scan duration and compute resource utilization.
- ‚úÖ Applied JetBrains' recommended `qodana.recommended` profile with additional license compliance checks via `CheckDependencyLicenses`.
- ‚úÖ Matched project JVM stack using Temurin 21 toolchain configuration aligned with repository `gradle.properties` and Gradle toolchain definitions.
- ‚úÖ Aligned linter version to `jetbrains/qodana-jvm-community:2025.1`.

---

## Critical Platform Failure

The integration ultimately failed during Gradle JVM toolchain resolution inside JetBrains' SaaS scanning container:

### Observed Error

```text
Cannot find a Java installation on your machine (Linux ...) matching: {languageVersion=21, vendor=Eclipse Temurin ...}. Toolchain download repositories have not been configured.
```

## Root Cause

* Gradle toolchains correctly declared inside build scripts using:

```kotlin
java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(21))
        vendor.set(JvmVendorSpec.TEMURIN)
    }
}
```

* Foojay Resolver plugin (org.gradle.toolchains.foojay-resolver-convention) was installed and properly configured inside the build pipeline.
* Despite correct configuration, Gradle was unable to locate or download JDK 21 inside Qodana‚Äôs SaaS runtime.
* The root issue stems from Qodana SaaS runtime operating inside a fully isolated containerized execution sandbox:
- ‚úÖ No access to external Foojay APIs
- ‚úÖ No ability to perform outbound HTTP downloads
- ‚úÖ No pre-installed Temurin JDK 21 inside SaaS container layers
- ‚úÖ No Gradle toolchain repositories configured inside the runtime container

## Upstream Root Cause

* ‚úÖ Confirmed as a known JetBrains platform defect: [YouTrack Issue QD-11696](https://youtrack.jetbrains.com/issue/QD-11696/No-defined-toolchain-download-url-for-LINUX-on-x8664-architecture "No defined toolchain download url for LINUX on x86_64 architecture.")
* ‚úÖ This issue blocks JVM-based Gradle projects using vendor-specific toolchain declarations inside JetBrains SaaS containers.
* See instructions on [_Qodana Configuration if you still want to make it run on public infrastructure_](https://www.jetbrains.com/help/qodana/github.html#Configuration "GitHub Actions");
* AND [_**The correct Gradle Daemon Toolchain URLs missing in the JetBrains Docker Image**_](https://github.com/oss-review-toolkit/ort/pull/10319/commits/e82387144c21c33497b8ebe637b34acfa5e39dc7 "Add Gradle daemon toolchain URLs #10319").

## My Decision: Dedicated Runners

_We have always operated Qodana on out own infrastructure against Qodana Cloud._
This has never failed through any upgrades.
And we have experienced total blockers on the public builds ("community") that seem to always be in "release candidate" mode.


### Why Local Builds Work

Local builds succeed because:
- Local SDKMAN! configurations provide full JDK installations. Similarly on our runners.
- Full internet connectivity allows Foojay resolver to succeed.
- Pre-warmed Gradle caches resolve any historical toolchain downloads. (Our massive local cache.)
- Full file system control and Gradle metadata availability.

_**None of these conditions exist inside Qodana‚Äôs SaaS execution runtime.**_

### The True Technical Problem Summary

| _Local_Runner_                 | **SaaS Community Image**   |
|--------------------------------|----------------------------|
| Has SDKMAN! toolchains         | No SDKMAN!                 |
| Has internet access            | No outbound HTTP           |
| Can reach Foojay               | Blocked                    |
| Pre-installed JDK 21(s)        | NONE available             |
| Gradle cache directories       | No storage mapped          |
| Can inject custom repositories | No volume mounting support |

I would love to help fellow homeschoolers run on community kit.
But here, I simply can't find the time to keep fixing things for a for-profit company.

## Operational Decision

* ‚úÖ The Qodana SaaS integration for riddle-me-this has been temporarily shelved on Kolhoz-Runners.
* ‚úÖ The full workflow remains versioned but fully disabled, until such time I import it to our lab.
* ‚úÖ Future integration will occur via self-hosted Qodana Docker containers running on our own private CI/CD farm.
  * _I can share the image if requested._ 
* ‚úÖ Self-hosted deployment will allow us to:
  * Pre-install full JDK stacks matching Gradle toolchains or let Foojay to its job.
  * Pre-warm Gradle caches.
  * Fully bypass network restrictions.
  * Run fully deterministic, fully stable Qodana scans.
  * Use licensed commercial Qodana Linters.

## Logs

- üìù Seed release notes for v1.12.0
- Qodana integration attempt, platform failure encountered
  - _This previously occurred frequently in the past._

## Files

- .github/qodana.yaml
- .github/workflows/security-scan-by-qodana.yml
- README.adoc
- SECURITY.md
- gradle.properties
- releases/v1.12.0.md
- site/_pages/maintainer.adoc
- site/index.adoc
